---
import type { HTMLAttributes } from "astro/types";

interface Props {
  href: string;
  target?: astroHTML.JSX.HTMLAttributeAnchorTarget | null | undefined;
}

const { href, target } = Astro.props;

const { pathname } = Astro.url;
const subpath = pathname.match(/[^\/]+/g);
const isActive = href === pathname || href === "/" + subpath?.[0];
---

<a
  href={href}
  target={target ?? "_self"}
  class:list={[
    "hover:underline decoration-2 underline-offset-2",
    { "font-semibold": isActive },
  ]}><slot /></a
>
